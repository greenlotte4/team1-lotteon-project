<div class="qna" th:fragment="list">
  <nav>
    <div>
      <p>홈<span>></span>문의하기</p>
    </div>
  </nav>
  <section class="list">
    <aside class="cs_sidebar">
      <h2>문의하기</h2>
      <ul>
        <li><a href="#">회원</a></li>
        <li><a href="#">쿠폰 / 이벤트</a></li>
        <li><a href="#">주문 / 결제</a></li>
        <li><a href="#">배송</a></li>
        <li><a href="#">취소 / 반품 / 교환</a></li>
        <li><a href="#">여행 / 숙박 / 항공</a></li>
        <li><a href="#">안전거래</a></li>
      </ul>
    </aside>
    <article class="qna_article">
      <nav>
        <h1>회원</h1>
        <h2>회원 관련 문의내용 입니다.</h2>
      </nav>
      <table>
        <tbody>
        <!-- 문의사항 목록 동적 처리 -->
        <tr th:each="inquiry : ${inquiries}">
          <td>
            <a th:href="@{/cs/layout/qna/view/{id}(id=${inquiry.id})}" th:text="${inquiry.title}">[회원] 문의내용</a>
          </td>
          <!-- 답변 여부 처리 -->
          <td th:text="${inquiry.answer != null ? '답변 완료' : '검토 중'}"
              th:classappend="${inquiry.answer != null ? 'done' : 'ing'}"></td>
          <td th:text="${inquiry.memberId != null ? inquiry.memberId : '비회원'}">작성자</td>
          <td style="text-align: right;" th:text="${#temporals.format(inquiry.createdAt, 'yy.MM.dd')}">22.10.31</td>
        </tr>
        </tbody>
      </table>

      <div class="pagingBox">
        <div class="pagingList">
          <!-- 이전 버튼 -->
          <a th:unless="${currentPage == 0}"
             th:href="@{/cs/layout/qna/list(page=${currentPage - 1}, size=${pageSize})}"
             class="prev">‹</a>

          <!-- 페이지 번호 링크 동적 처리 -->
          <a th:each="pageNum : ${#numbers.sequence(0, totalPages - 1)}"
             th:href="@{/cs/layout/qna/list(page=${pageNum}, size=${pageSize})}"
             th:text="${pageNum + 1}"
             th:classappend="${pageNum == currentPage} ? 'active'">1</a>

          <!-- 다음 버튼 -->
          <a th:if="${!isLast}"
             th:href="@{/cs/layout/qna/list(page=${currentPage + 1}, size=${pageSize})}"
             class="next">›</a>
        </div>
        <!-- 문의하기 버튼 -->
        <a th:href="@{/cs/layout/qna/write}" class="ask">문의하기</a>
      </div>

    </article>
  </section>
</div>
